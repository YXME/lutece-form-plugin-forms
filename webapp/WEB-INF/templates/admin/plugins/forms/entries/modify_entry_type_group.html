<#include "all_entry_commons.html" />
<@editFields required=false helpMessage=false comments=false >
<#assign iterationAddingLabel = getFieldValue(entry,"iteration_adding_label")>
<#assign nbIteration = getFieldValue(entry,"nb_iterations")>
<#assign nbIteration_minimum = getFieldValue(entry,"nb_iterations_minimum")>
<#assign isIterable = (nbIteration?has_content && nbIteration?number != -1)>
<#if isIterable>
<#assign checked = true />
<#assign style = '' />
<#else>
<#assign checked = false />
<#assign style = 'style="display:none;"' />
</#if>
<@formGroup labelFor='is_iterable' labelKey='#i18n{forms.create_entry.labelIteration}' rows=2>
	<@checkBox orientation='switch' id='checkbox_is_iterable' name='is_iterable' value='true' checked=checked params='onclick="javascript:displayHideIteration();"' />
</@formGroup>
<@formGroup labelFor='nb_iterations' labelKey='#i18n{forms.create_entry.labelNbIteration}' helpKey='#i18n{forms.create_entry.labelHelpNbIteration' id='iterationNumber' mandatory=true params=style rows=2>
	<@input type='text' name='nb_iterations' value='${nbIteration}' maxlength=5 />
</@formGroup>
<@formGroup labelFor='nb_iterations' labelKey='#i18n{forms.create_entry.labelNbMinimumIteration}' helpKey='#i18n{forms.create_entry.labelHelpNbMinimumIteration' id='iterationNumberMinimum' mandatory=true params=style rows=2>
	<@input type='text' name='nb_iterations_minimum' value='${nbIteration_minimum}' maxlength=5 />
</@formGroup>
<@formGroup id='iterationAddingLabel' labelFor='iteration_adding_label' labelKey='#i18n{forms.create_entry.labelIterationAddingLabel}' helpKey='#i18n{forms.create_entry.labelHelpIterationAddingLabel}' params=style  rows=2>
	<@input type='text' name='iteration_adding_label' value='${iterationAddingLabel}' maxlength=255 />
</@formGroup>
</@editFields>                        
<script>
function displayHideIteration(){
	if ( document.getElementById("checkbox_is_iterable").checked ){
		document.getElementById("iterationNumber").style.display = "block";
		document.getElementById("iterationAddingLabel").style.display = "block";
		document.getElementById("iterationNumberMinimum").style.display = "block";
	} else 	{
		document.getElementById("iterationNumber").style.display = "none";
		document.getElementById("iterationAddingLabel").style.display = "none";
		document.getElementById("iterationNumberMinimum").style.display = "none";
	}
}
</script>